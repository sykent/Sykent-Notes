# 基础语法
* 有自动推断变量的类型。
* 类型和返回值写在后面，其中用 `:` 隔离。
* 不需要 `;` 表示结尾。
* 条件语句，但个判断可以省略函数体、`return` 关键字，直接 `=` 接条件表达式。
* 当某变量可以为 `null` 时，必须在声明类型后添加 `?` 来表示该引用可为空。
* `is` 运算符检测一个表达式是否为某类型的一个实例，如果判断为某类型，不需要显示转换。
* `Any` 类似 `Object`，`Unit` 类似 `void`。
* 循环体遍历使用 `in` 关键字链接。
* 一条表达式的返回值可以用 `=` 替换函数体。
* `when` 表达式类似 `switch`，可用 `is` 做判断语句。
* `in` 运算符范围性检测，即区间的意思。
* 安全调用操作符 ?. 为不为 null 判断。
* 函数类型，函数的形参可以接收一个参数作为变量传入，最简单的函数类型 `()->Int`。
* `it` 单个参数的隐式名称，作为参数的单个函数。



## 作用域函数
根据返回结果，作用域函数可以分以下两类：
* `apply` 及 `also` 返回上下文对象。
* `let` 、`run` 及 `with` 返回 lambda 表达式结果。

**几个函数**
* let ：上下文对象作为 lambda 表达式的参数 it 来访问。返回值时 lambda 表达式的结果。<br/>
let 可用于在调用链的结果上调用一个或多个函数。<br/>
若代码块仅包含 it 作为参数的单个函数，则可以使用方法 :: 代替 lambda 表达式。<br/>
为上下文对象定义一个新的变量，替换 lambda 表达式参数默认值 it。<br/>
?. 非空判断后的操作。

* with：上下文对象作为参数传递，但是在 lambda 表达式内部，它可以作为接收者 this 使用，返回值是 lambda 表达式结果。<br/>
可以表示使用这个对象，执行以下操作。<br/>
作为辅助对象引入，其属性或函数用于计算一个值。

* run：上下文对象作为接收者 this 来访问，返回值是 lambda 表达式的结果。<br/>
run 和 with 做同样的事情，但调用方式和 let 一样，作为上下文对象的扩展函数。当 lambda 表达式同时包含对象的初始化和返回值的计算时，run 很有用。<br/>
除了作为扩展函数，还可以作为非扩展执行一个由多个语句组成的块。

|作用域函数|上下文对象|返回值|是否为上下文<br/>对象的扩展函数|解读|
|:--:|:--:|:--:|:--:|:--:|
|let|lambda 表达式参数 `it` |lambda 表达式的结果|是|不需要引入变量|
|with|参数传递，<br/>接收对象为 `this`|lambda 表达式的结果|否：把上下文对象当做参数|对于这个对象，执行以下操作|
|run|接收者 `this`|lambda 表达式的结果|是|当 lambda 表达式同时包含<br/>对象初始化和返回值的计算|
|run|-|lambda 表达式的结果|否:调用无需上下文对象|需要表达式的地方执行<br/>一个由多个语句组成的块|
|apply|接收者 `this`|上下文对象本身|是|将以下赋值操作应用于对象|
|also|lambda 表达式的参数 `it`|上下文对象本身|是|并且用该对象执行以下操作|

以下是根据预期目的选择作用域函数的简短指南：
* 对一个非空（non-null）对象执行 lambda 表达式：let
* 将表达式作为变量引入为局部作用域中：let
* 对象配置：apply
* 对象配置并且计算结果：run
* 在需要表达式的地方运行语句：非扩展的 run
* 附加效果：also
* 一个对象的一组函数调用：with

### takeIf 与 takeUnless

这两个函数使得对象的检查状态嵌入到调用连中，是对单个对象的过滤函数，takeIf 若对象匹配，则返回该对象，否则返回 null；takeUnless 与 takeIf 相反，为不匹配。
因为可能返回 null ，则需使用安全操作符判断再处理。


## 特有

* open，可覆盖，需要显式修饰符。
*  构造函数，init()，主构造函数和次构造函数。
* it 并不是 kotlin 中的一个关键字，it 可表示为单个参数的隐式名称，是 kotlin 语言约定的。

## 幕后字段
模糊的定义是：字段对外可读，对内可读可写。也就是对读访问器和写访问器进行重新定义。
字段 `field`，不是修饰符，只是代表某种意义和 `this` 类型差不多

## 函数

1. 具名参数，调用的时候所有位置的参数必须放在第一个具名参数之前，不能放在具名参数之后。
2. 可变数量的参数 `vararg`。

### 函数作用域

* 单表达式函数，当函数返回单个表达式时，可以省略花括号，用 = 号连接指定代码体。
* 局部函数，即一个函数在另外一个函数的内部。局部函数可以使用外部函数的局部变量。
* 成员函数，是在类或对象内部定义的函数。
* 泛型函数，通过函数名前使用尖括号指定。
* 内联函数，
* 扩展函数，
* 高阶函数和 Lambda 表达式
* 尾递归函数，`tailrec` 修饰符修饰。

## Lambda 语法

1. 无参数的情况
val/var 变量名 = { 操作代码块 }
2. 有参数的情况
val/var 变量名 : ( 参数类型，参数类型 ) -> 返回值类型 = { 参数1，参数2，... -> 操作参数的代码 }
等价
val/var 变量名 = { 参数1 ： 类型，参数2 : 类型, ... -> 操作参数的代码 }
3. lambda表达式作为函数中的参数
fun test(a : Int, 参数名 : (参数1 ： 类型，参数2 : 类型, ... ) -> 表达式返回类型){
        ...
    }


## 函数可以传递？

kotlin 中函数是不可以传递的，那么传递的是什么呢？答案是对象，其中用 `::` 访问的函数、匿名函数、lambda 表达式，这三种均是对象，可以用于作为函数参数传递。
